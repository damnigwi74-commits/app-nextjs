{
  "agent-service-flow": [
    {
      "type": "select",
      "name": "agent-main-menu",
      "save-as": "agentMainOption",
      "options": [
        {
          "label": "Create Quotation",
          "jump-to": "agent-create-quotation-customer-info"
        },
        {
          "label": "View Quotations",
          "jump-to": "agent-view-quotations"
        },
        {
          "label": "Manage Customer Info",
          "jump-to": "agent-manage-customer"
        },
        {
          "label": "Assist Claim",
          "jump-to": "agent-assist-claim"
        },
        {
          "label": "Initiate Policy",
          "jump-to": "agent-initiate-policy"
        }
      ],
      "error": "agent-main-menu-error"
    },
    {
      "type": "input",
      "name": "agent-create-quotation-customer-info",
      "save-as": "customerName",
      "validation": [
        {
          "name": "minLength",
          "arguments": { "length": 2 },
          "type": "joi"
        }
      ],
      "error": "agent-create-quotation-customer-info-error",
      "next": "agent-select-quotation-type"
    },
    {
      "type": "select",
      "name": "agent-select-quotation-type",
      "save-as": "quotationType",
      "options": [
        { "label": "Health", "value": "health" },
        { "label": "Vehicle", "value": "vehicle" },
        { "label": "Home", "value": "home" }
      ],
      "error": "agent-select-quotation-type-error",
      "next": "agent-confirm-create-quotation"
    },
    {
      "type": "select",
      "name": "agent-confirm-create-quotation",
      "save-as": "quotationConfirmation",
      "options": [
        { "label": "Submit", "value": "yes" },
        { "label": "Cancel", "jump-to": "agent-main-menu" }
      ],
      "charges": false,
      "action": "transact",
      "external-fetch": {
        "route": "submit-quotation",
        "success": "quotation-submit-success",
        "error": "quotation-submit-error"
      },
      "error": "agent-confirm-create-quotation-error",
      "on-cancel": "agent-main-menu"
    },
    {
      "type": "select",
      "name": "agent-view-quotations",
      "options": "list-of-agent-quotations",
      "save-as": "selectedQuotation",
      "options-error": "no-quotations-found",
      "error": "agent-view-quotations-error",
      "next": "agent-main-menu"
    },
    {
      "type": "input",
      "name": "agent-manage-customer",
      "save-as": "customerPhoneToEdit",
      "validation": [
        {
          "name": "isStatement",
          "type": "custom"
        }
      ],
      "error": "agent-manage-customer-error",
      "next": "agent-edit-customer-options"
    },
    {
      "type": "select",
      "name": "agent-edit-customer-options",
      "save-as": "editCustomerField",
      "options": [
        { "label": "Update Name", "jump-to": "agent-edit-customer-name" },
        { "label": "Update ID Number", "jump-to": "agent-edit-customer-id" }
      ],
      "error": "agent-edit-customer-options-error"
    },
    {
      "type": "input",
      "name": "agent-edit-customer-name",
      "save-as": "newCustomerName",
      "validation": [
        {
          "name": "minLength",
          "arguments": { "length": 2 },
          "type": "joi"
        }
      ],
      "error": "agent-edit-customer-name-error",
      "next": "agent-main-menu"
    },
    {
      "type": "input",
      "name": "agent-edit-customer-id",
      "save-as": "newCustomerID",
      "validation": [
        {
          "name": "minLength",
          "arguments": { "length": 5 },
          "type": "joi"
        }
      ],
      "error": "agent-edit-customer-id-error",
      "next": "agent-main-menu"
    },
    {
      "type": "select",
      "name": "agent-assist-claim",
      "options": "list-of-customer-products",
      "save-as": "assistedClaimProduct",
      "options-error": "no-customer-products-found",
      "error": "agent-assist-claim-error",
      "next": "agent-enter-claim-details"
    },
    {
      "type": "input",
      "name": "agent-enter-claim-details",
      "save-as": "claimNotes",
      "validation": [
        {
          "name": "minLength",
          "arguments": { "length": 10 },
          "type": "joi"
        }
      ],
      "error": "agent-enter-claim-details-error",
      "next": "agent-submit-assisted-claim"
    },
    {
      "type": "select",
      "name": "agent-submit-assisted-claim",
      "save-as": "confirmAssistedClaim",
      "options": [
        { "label": "Submit", "value": "yes" },
        { "label": "Cancel", "jump-to": "agent-main-menu" }
      ],
      "charges": false,
      "action": "transact",
      "external-fetch": {
        "route": "submit-assisted-claim",
        "success": "claim-assist-success",
        "error": "claim-assist-error"
      },
      "error": "agent-submit-assisted-claim-error"
    },
    {
      "type": "select",
      "name": "agent-initiate-policy",
      "options": "list-of-approved-quotations",
      "save-as": "approvedQuotationToInitiate",
      "options-error": "no-approved-quotations",
      "error": "agent-initiate-policy-error",
      "next": "agent-confirm-policy-initiation"
    },
    {
      "type": "select",
      "name": "agent-confirm-policy-initiation",
      "save-as": "policyInitiationConfirm",
      "options": [
        { "label": "Yes, Initiate", "value": "yes" },
        { "label": "Cancel", "jump-to": "agent-main-menu" }
      ],
      "charges": false,
      "action": "transact",
      "external-fetch": {
        "route": "initiate-policy-issuance",
        "success": "policy-initiation-success",
        "error": "policy-initiation-error"
      },
      "error": "agent-confirm-policy-initiation-error"
    }
  ]
}
