[{
  "type": "input",
  "name": "first-time-wrong-login",
  "save-as": "oldPassword",
  "validation": [
    {
      "name": "isValidPin",
      "type": "custom"
    },
    {
      "name": "isNumber",
      "type": "joi"
  },
    {
      "name": "matchesLength",
      "type": "joi",
      "arguments": "length=4"
    }
  ],
  "errors": [
    "invalid-pin-error",
    "invalid-pin-length-error",
    "first-time-wrong-login"
  ],
  "action": "update-parameters",
  "external-fetch": {
    "route": "validate-first-time-login-pin",
    "success": "first-login-new-pin",
    "error": "first-time-wrong-login",
    "success-handler": {
      "handler": "reset_pin_trials",
      "argument": "pin-trials-remaining",
      "save-as": "pin-trials-remaining"
    },
    "error-handler": {
      "handler": "decrement_pin_trials",
      "argument": "pin-trials-remaining",
      "save-as": "pin-trials-remaining",
      "threshold": 0,
      "redirect-on-threshold": "account-blocked",
      "threshold-handler": "block-account"
    },
    "cache": true,
    "cache-path": "account-details",
    "cache-parameters": [
      {
        "path": "access_token",
        "save-as": "access_token"
      }
    ]
  },
  "on-cancel": "logout"
}
,
{
  "type": "input",
  "name": "first-login-new-pin",
  "save-as": "newPin",
  "validation": [
      {
          "name": "isStrongPin",
          "type": "custom"
      },
      {
          "name": "isNotOldPin",
          "type": "custom"
      }
  ],
  "error": "first-login-new-pin-error",
  "next": "first-login-new-pin-reenter",
  "previous": "first-login"
},
{
  "type": "input",
  "name": "first-login-new-pin-reenter",
  "save-as": "newPin",
  "validation": [
      {
          "name": "isEqualToLastEntry",
          "type": "custom",
          "arguments": "path=newPin"
      }
  ],
  "error": "first-login-new-pin-reenter-error",
  "next": "first-login-confirm",
  "previous": "first-login-new-pin"
},
{
  "type": "select",
  "name": "first-login-confirm",
  "options": "confirm-options",
  "error": "first-login-confirm-error",
  "authenticate": false,
  "action": "transact",
  "external-fetch": {
      "route": "first-pin-change",
      "success": "pin-change-success",
      "error": "pin-change-error"
  },
  "on-cancel": "logout",
  "previous": "first-login-new-pin-reenter"
},
{
  "type": "select",
  "name": "terms-conditions",
  "options": "yes-no-options",
  "error": "terms-conditions-error",
  "action": "navigate",
  "on-accept": "first-login-system-pin",
  "on-cancel": "logout"
}]