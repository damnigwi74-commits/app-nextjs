[
  {
    "type": "skip",
    "name": "fetch-wallet-balance",
    "action": "update-parameters",
    "external-fetch": {
      "route": "wallet-balance",
      "success": "to-mobile-money-provider",
      "error": "wallet-balance-is-zero-error",
      "cache": true,
      "cache-path": "global-request-details",
      "cache-parameters": [
        {
          "path": "data.availableBal",
          "save-as": "balanceForWallet",
          "format-as": "balance-timestamp",
          "default": ""
        }
      ],
      "parameter-checks": {
        "balanceForWallet": {
          "is-equal-to": 0,
          "redirect-to": "wallet-balance-is-zero-error"
        }
      }
    },
    "on-cancel": "client-page"
  },
  {
    "type": "select",
    "name": "loan-cash-out-provider",
    "save-as": "loanProvider",
    "save-as-label": "loanProvider",
    "options": [
      {
        "label": "Mobile Money",
        "value": "Mobile Money",
        "jump-to": "to-mobile-money-provider",
        "meta": [
          {
              "save-as": "balanceForWallet",
              "cache-path": "global-request-details",
              "value": "100000"
          },
          {
              "save-as": "mobileMoneyAccount",
              "cache-path": "global-request-details",
              "value": "__walletAccount"
          },
          {
              "save-as": "cashOutSuccess",
              "cache-path": "global-request-details",
              "value": "Your request was received and is being processed."
          }
        ]
      },
      {
        "label": "To Bank account",
        "value": "To Bank account",
        "jump-to": "to-bank-account-account-type",
        "meta": [
          {
              "save-as": "balanceForWallet",
              "cache-path": "global-request-details",
              "value": "100000"
          },
          {
              "save-as": "mobileMoneyAccount",
              "cache-path": "global-request-details",
              "value": "__walletAccount"
          },
          {
              "save-as": "cashOutSuccess",
              "cache-path": "global-request-details",
              "value": "Your request was received and is being processed."
          }
        ]
      }
    ],
    "error": "loan-cash-out-provider-error",
    "previous": "client-page"
  }
]
